\hypertarget{gen__factory_8py_source}{}\section{/home/hilton/github/exch2exh/gen\+\_\+factory.py}

\begin{DoxyCode}
\Hypertarget{gen__factory_8py_source_l00001}\hyperlink{namespacegen__factory}{00001} \textcolor{comment}{# -*- coding: utf-8 -*-}
00002 \textcolor{stringliteral}{"""}
00003 \textcolor{stringliteral}{Created on Thu Aug 17 15:17:53 2017}
00004 \textcolor{stringliteral}{}
00005 \textcolor{stringliteral}{@author: hilton}
00006 \textcolor{stringliteral}{"""}
00007 \textcolor{keyword}{import} sys \textcolor{comment}{# exit()}
00008 
\Hypertarget{gen__factory_8py_source_l00009}\hyperlink{classgen__factory_1_1_dummy}{00009} \textcolor{keyword}{class }\hyperlink{classgen__factory_1_1_dummy}{Dummy}: 
\Hypertarget{gen__factory_8py_source_l00010}\hyperlink{classgen__factory_1_1_dummy_aed8c66d829aedd98a5b1bed80725ffab}{00010}     \textcolor{keyword}{def }\hyperlink{classgen__factory_1_1_dummy_aed8c66d829aedd98a5b1bed80725ffab}{\_\_init\_\_} (self):
00011         \textcolor{keywordflow}{print} (\textcolor{stringliteral}{"\{0\}.\_\_init\_\_() "}.format (self.\_\_class\_\_.\_\_name\_\_))
00012 
\Hypertarget{gen__factory_8py_source_l00013}\hyperlink{classgen__factory_1_1_dummy1}{00013} \textcolor{keyword}{class }\hyperlink{classgen__factory_1_1_dummy1}{Dummy1} (\hyperlink{classgen__factory_1_1_dummy}{Dummy}):
\Hypertarget{gen__factory_8py_source_l00014}\hyperlink{classgen__factory_1_1_dummy1_a9bb75256a466ee77a0ae2cafb339fe62}{00014}     \textcolor{keyword}{def }\hyperlink{classgen__factory_1_1_dummy1_a9bb75256a466ee77a0ae2cafb339fe62}{\_\_init\_\_} (self):
00015         \textcolor{keywordflow}{print} (\textcolor{stringliteral}{"\{0\}.\_\_init\_\_() "}.format (self.\_\_class\_\_.\_\_name\_\_))
00016         
00017 \textcolor{comment}{#    def \_\_new\_\_ (self):}
00018 \textcolor{comment}{#        print ("Dummy1.\_\_new\_\_() ", self.\_\_class\_\_.\_\_name\_\_)}
00019 \textcolor{comment}{#        Dummy1.\_\_init\_\_ (self)}
00020         
\Hypertarget{gen__factory_8py_source_l00021}\hyperlink{classgen__factory_1_1_dummy1_af8a40601dbd998624323da24581dfa1c}{00021}     \textcolor{keyword}{def }\hyperlink{classgen__factory_1_1_dummy1_af8a40601dbd998624323da24581dfa1c}{doSomething} (self):
00022         \textcolor{keywordflow}{print} (\textcolor{stringliteral}{"I'm an instance of class \{0\}"}. format (type (self).\_\_name\_\_))
00023 
\Hypertarget{gen__factory_8py_source_l00024}\hyperlink{classgen__factory_1_1_dummy2}{00024} \textcolor{keyword}{class }\hyperlink{classgen__factory_1_1_dummy2}{Dummy2} (\hyperlink{classgen__factory_1_1_dummy}{Dummy}):
\Hypertarget{gen__factory_8py_source_l00025}\hyperlink{classgen__factory_1_1_dummy2_a22fc655957f756c7967b655b83375c66}{00025}     \textcolor{keyword}{def }\hyperlink{classgen__factory_1_1_dummy2_a22fc655957f756c7967b655b83375c66}{doSomething} (self):
00026         \textcolor{keywordflow}{print} (\textcolor{stringliteral}{"I'm an instance of class \{0\}"}.format (type (self).\_\_name\_\_))
00027 
\Hypertarget{gen__factory_8py_source_l00028}\hyperlink{classgen__factory_1_1_dummy3}{00028} \textcolor{keyword}{class }\hyperlink{classgen__factory_1_1_dummy3}{Dummy3} (\hyperlink{classgen__factory_1_1_dummy}{Dummy}):
\Hypertarget{gen__factory_8py_source_l00029}\hyperlink{classgen__factory_1_1_dummy3_a7cf07349b2202099fb311e45431bfff4}{00029}     \textcolor{keyword}{def }\hyperlink{classgen__factory_1_1_dummy3_a7cf07349b2202099fb311e45431bfff4}{doSomething} (self):
00030         \textcolor{keywordflow}{print} (\textcolor{stringliteral}{"I'm an instance of class \{0\}"}.format (type (self).\_\_name\_\_))
00031 
\Hypertarget{gen__factory_8py_source_l00032}\hyperlink{classgen__factory_1_1_gen_factory}{00032} \textcolor{keyword}{class }\hyperlink{classgen__factory_1_1_gen_factory}{GenFactory}:
\Hypertarget{gen__factory_8py_source_l00033}\hyperlink{classgen__factory_1_1_gen_factory_a519ddaf62a8d97e9ee0624e91ac39368}{00033}     \textcolor{keyword}{def }\hyperlink{classgen__factory_1_1_gen_factory_a519ddaf62a8d97e9ee0624e91ac39368}{\_\_init\_\_} (self, cls):
00034         types = cls.\_\_subclasses\_\_ ()
00035         
00036 \textcolor{comment}{#        print (self.types)}
00037         
\Hypertarget{gen__factory_8py_source_l00038}\hyperlink{classgen__factory_1_1_gen_factory_a28f3142219cbe573169e5f90508908b3}{00038}         self.\hyperlink{classgen__factory_1_1_gen_factory_a28f3142219cbe573169e5f90508908b3}{classes} = \{\}
00039         classNames = []
00040         \textcolor{keywordflow}{for} cls \textcolor{keywordflow}{in} types:
00041             name = cls.\_\_name\_\_
00042             self.\hyperlink{classgen__factory_1_1_gen_factory_a28f3142219cbe573169e5f90508908b3}{classes}[name] = cls
00043             classNames.append (name.lower ())
00044             
\Hypertarget{gen__factory_8py_source_l00045}\hyperlink{classgen__factory_1_1_gen_factory_a7a23dc95968c745a9570a42e8e331232}{00045}         self.\hyperlink{classgen__factory_1_1_gen_factory_a7a23dc95968c745a9570a42e8e331232}{caseSignificant} = \textcolor{keyword}{False}
00046         
00047         hasDuplicates = \textcolor{keyword}{False}
00048         classNames.sort ()
00049         \textcolor{keywordflow}{for} ind \textcolor{keywordflow}{in} range (len (classNames) - 1):
00050             \textcolor{keywordflow}{if} classNames[ind] == classNames[ind]:
00051                 hasDuplicates = \textcolor{keyword}{True}
00052                 \textcolor{keywordflow}{break}
00053         
00054         \textcolor{keywordflow}{if} hasDuplicates:
00055             self.\hyperlink{classgen__factory_1_1_gen_factory_a7a23dc95968c745a9570a42e8e331232}{caseSignificant} = \textcolor{keyword}{True}
\Hypertarget{gen__factory_8py_source_l00056}\hyperlink{classgen__factory_1_1_gen_factory_ad263a87721215cc90b4b36e06a258a41}{00056}             self.\hyperlink{classgen__factory_1_1_gen_factory_ad263a87721215cc90b4b36e06a258a41}{classNames} = self.\hyperlink{classgen__factory_1_1_gen_factory_a28f3142219cbe573169e5f90508908b3}{classes}.keys ()
00057             
00058         \textcolor{keywordflow}{else}:
00059             self.\hyperlink{classgen__factory_1_1_gen_factory_ad263a87721215cc90b4b36e06a258a41}{classNames} = classNames
00060             
00061             
\Hypertarget{gen__factory_8py_source_l00062}\hyperlink{classgen__factory_1_1_gen_factory_aafa5db7ad22687c37e6b6a73da52fb2f}{00062}     \textcolor{keyword}{def }\hyperlink{classgen__factory_1_1_gen_factory_aafa5db7ad22687c37e6b6a73da52fb2f}{validClassNames} (self):
00063         \textcolor{keywordflow}{return} self.\hyperlink{classgen__factory_1_1_gen_factory_a28f3142219cbe573169e5f90508908b3}{classes}.keys ()
00064     
\Hypertarget{gen__factory_8py_source_l00065}\hyperlink{classgen__factory_1_1_gen_factory_ae778039c093668c28d6ea32c92ff082c}{00065}     \textcolor{keyword}{def }\hyperlink{classgen__factory_1_1_gen_factory_ae778039c093668c28d6ea32c92ff082c}{isValidClassName} (self, className):
00066         \textcolor{keywordflow}{if} \textcolor{keywordflow}{not} self.\hyperlink{classgen__factory_1_1_gen_factory_a7a23dc95968c745a9570a42e8e331232}{caseSignificant}:
00067             className = className.lower ()
00068         
00069         \textcolor{comment}{# Normal function termination}
00070         \textcolor{keywordflow}{return} (className \textcolor{keywordflow}{in} self.\hyperlink{classgen__factory_1_1_gen_factory_ad263a87721215cc90b4b36e06a258a41}{classNames})
00071     
\Hypertarget{gen__factory_8py_source_l00072}\hyperlink{classgen__factory_1_1_gen_factory_aeb00856af2fa15d7973be43678779561}{00072}     \textcolor{keyword}{def }\hyperlink{classgen__factory_1_1_gen_factory_aeb00856af2fa15d7973be43678779561}{genObject} (self, name):
00073         result = \textcolor{keywordtype}{None} 
00074         
00075         \textcolor{keywordflow}{if} name \textcolor{keywordflow}{in} self.\hyperlink{classgen__factory_1_1_gen_factory_a28f3142219cbe573169e5f90508908b3}{classes}:
00076                 cls = self.\hyperlink{classgen__factory_1_1_gen_factory_a28f3142219cbe573169e5f90508908b3}{classes}[name]
00077                 result = cls.\_\_new\_\_ (cls)
00078                 
00079                 result.\_\_init\_\_ ()
00080                 
00081         \textcolor{keywordflow}{return} result
00082     
00083         
\Hypertarget{gen__factory_8py_source_l00084}\hyperlink{namespacegen__factory_a785bd40533dd477ffff224d65ba1c5c3}{00084} \textcolor{keyword}{def }\hyperlink{namespacegen__factory_a785bd40533dd477ffff224d65ba1c5c3}{main} ():
00085     gf = GenFactory (Dummy)
00086     
00087 \textcolor{comment}{#    obj = gf.genObject ("Dummy2")}
00088 \textcolor{comment}{#    }
00089 \textcolor{comment}{#    nam = type (obj).\_\_name\_\_ }
00090 \textcolor{comment}{#    print ("type (obj).\_\_name\_\_ = \{0\}".format (nam))}
00091 \textcolor{comment}{#    }
00092 \textcolor{comment}{#    obj.doSomething ()}
00093 \textcolor{comment}{#    print ("="*12)}
00094     
00095     \textcolor{keywordflow}{for} cn \textcolor{keywordflow}{in} gf.validClassNames ():
00096         \textcolor{keywordflow}{print} (\textcolor{stringliteral}{"Class \{0\}"}.format (cn))
00097         obj = gf.genObject (cn)
00098     
00099         nam = type (obj).\_\_name\_\_ 
00100         \textcolor{keywordflow}{print} (\textcolor{stringliteral}{"type (obj).\_\_name\_\_ = \{0\}"}.format (nam))
00101         obj.doSomething ()
00102         \textcolor{keywordflow}{print} ()
00103         
00104     \textcolor{comment}{# Normal function termination}
00105     \textcolor{keywordflow}{return} 0
00106 
00107 \textcolor{keywordflow}{if} \_\_name\_\_ == \textcolor{stringliteral}{'\_\_main\_\_'}:
00108     sys.exit (main ())
\end{DoxyCode}
